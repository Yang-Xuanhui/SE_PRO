# Task 2 -- REST Service 资源消耗分析

## 没有请求时CPU、Memory消耗情况

### 通过任务管理器查和资源监视器看CPU、Memory的情况

>程序运行前时的状态

![before](img\before.JPG)

>程序启动过程中和运行后无请求时的状态

![start](img\start.JPG)

![run](img\norequest.JPG)

前后对比可以找到当前运行的进程的相关信息

在启动过程中对CPU的占用增大。对启动过程进行观察，过程中最大可占比35%左右。正常运行后，无请求时不需要占用CPU。

通过上图可以看到某次运行后无请求时占用内存233.9MB

发现长时间不使用，内存占用会减少很多

![norequest](img\norequest1.JPG)

>通过资源监视器看到的数据

![resource](img\resource.JPG)

多次启动程序，数据略有差异。

## 增加请求后各资源利用趋势

第一次发请求时CPU利用最高可以达到6~7%

但随后再多次发送请求（不同请求）时CPU的利用都为0.1%~0.3%

>发送请求前内存利用情况

![mem](img\memory.JPG)

>第一次发送请求后内存利用情况

![mem](img\firstmemory.JPG)

第一次请求后可以看到进程当前使用的内存数(提交)增加4300KB

>继续发送请求时内存利用情况

以获取主页为例，向后端发送(http://localhost:8080/home)请求

![mem](img\continue.JPG)

![mem](img\continue1.JPG)


继续多次发送同一请求时，内存利用增加相比第一次增加减少很多，平均小于100KB.

不同请求对内存利用不同。

但具有趋势相同，即对于同一请求，第一次发送时，相较以后的多次发送请求，内存利用的增量较大，后续多次发送请求时内存利用的增量相对较小。